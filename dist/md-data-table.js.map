{"version":3,"sources":["md-data-table.js"],"names":["window","angular","undefined","module","run","$templateCache","put","directive","mdBody","compile","tElement","addClass","restrict","mdCell","select","find","length","attr","postLink","Controller","scope","element","attrs","ctrls","cellCtrl","shift","tableCtrl","ngClick","on","event","stopPropagation","click","getTable","getElement","getColumn","$$columns","getIndex","Array","prototype","indexOf","call","parent","children","$watch","column","numeric","removeClass","controller","require","mdColumn","$compile","$mdUtil","headCtrl","attachSortIcon","sortIcon","hasClass","prepend","append","detachSortIcon","some","icon","classList","contains","removeChild","disableSorting","off","setOrder","enableSorting","isActive","orderBy","order","isNumeric","mdNumeric","$applyAsync","getDirection","isFunction","onReorder","nextTick","updateColumn","index","charAt","mdDesc","$eval","active","$inject","decorator","controllerDecorator","factory","mdEditDialog","$delegate","expression","locals","later","ident","create","extend","instance","$controller","$document","$q","$rootScope","$templateRequest","$window","ESCAPE","busy","body","prop","defaultOptions","clickOutsideToClose","disableScroll","escToClose","focusOnOpen","build","template","options","$new","backdrop","createBackdrop","getController","$element","$scope","positionDialog","target","remove","restoreScroll","disableScrollAround","inject","resolve","controllerAs","bindToController","getTemplate","reject","illegalType","type","isString","templateUrl","get","success","error","then","logError","console","keyup","keyCode","autofocus","findFocusTarget","focus","table","getHeight","getSize","width","getWidth","height","getTableBounds","getBoundingClientRect","reposition","size","cellBounds","tableBounds","right","left","css","bottom","top","watchWidth","watchHeight","addEventListener","removeEventListener","preset","getAttrs","validators","save","update","editDialog","$invalid","when","input","dismiss","getInput","submit","cancel","messages","model","modelValue","ok","placeholder","title","show","targetEvent","currentTarget","promise","promises","push","all","results","small","bind","large","mdFoot","mdHead","oldValue","addCheckboxColumn","attatchCheckbox","firstElementChild","appendChild","createCheckBox","detachCheckbox","cell","empty","enableRowSelection","$$rowSelect","mdSelectCtrl","row","removeCheckboxColumn","allSelected","rows","getSelectableRows","every","isSelected","getBodyRows","map","filter","ctrl","disabled","selectAll","forEach","toggleAll","unSelectAll","deselect","$watchGroup","enableMultiSelect","newValue","copy","mdRow","isBodyRow","isChild","node","enable","mdSelect","$parse","self","getId","mdSelectId","id","$$hash","has","selected","findIndex","m","purge","equals","splice","item","onSelect","i","onDeselect","toggle","autoSelect","mdAutoSelect","createCheckbox","checkbox","disableSelection","child","enableSelection","onSelectChange","multiple","registerModelChangeListener","removeModelChangeListener","link","mdTable","Hash","keys","key","hasOwnProperty","tAttrs","progress","insertBefore","$attrs","queue","watchListener","modelChangeListeners","$watchCollection","listener","disableRowSelection","resolvePromises","rowSelect","mdRowSelect","validateModel","isArray","columnCount","getRows","reduce","count","cells","result","tbody","concat","getHeaderRows","waitingOnPromise","queuePromise","mdTablePagination","defaultLabel","page","rowsPerPage","of","label","isPositive","number","parseInt","eval","first","onPaginationChange","hasNext","limit","total","hasPrevious","last","pages","max","min","next","onPaginate","Math","ceil","previous","showBoundaryLinks","mdBoundaryLinks","boundaryLinks","showPageSelect","mdPageSelect","pageSelect","isNaN","floor","$observe","limitOptions","mdTableProgress","deferred","virtualPageSelect","content","getMin","isFinite","setPages"],"mappings":"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","sourcesContent":["/*\n * Angular Material Data Table\n * https://github.com/daniel-nagy/md-data-table\n * @license MIT\n * v0.10.10\n */\n(function (window, angular, undefined) {\n'use strict';\n\nangular.module('md.table.templates', ['md-table-pagination.html', 'md-table-progress.html', 'arrow-up.svg', 'navigate-before.svg', 'navigate-first.svg', 'navigate-last.svg', 'navigate-next.svg']);\n\nangular.module('md-table-pagination.html', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('md-table-pagination.html',\n    '<div class=\"page-select\" ng-if=\"$pagination.showPageSelect()\">\\n' +\n    '  <div class=\"label\">{{$pagination.label.page}}</div>\\n' +\n    '\\n' +\n    '  <md-select virtual-page-select total=\"{{$pagination.pages()}}\" class=\"md-table-select\" ng-model=\"$pagination.page\" md-container-class=\"md-pagination-select\" ng-change=\"$pagination.onPaginationChange()\" ng-disabled=\"$pagination.disabled\" aria-label=\"Page\">\\n' +\n    '    <md-content>\\n' +\n    '      <md-option ng-repeat=\"page in $pageSelect.pages\" ng-value=\"page\">{{page}}</md-option>\\n' +\n    '    </md-content>\\n' +\n    '  </md-select>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<div class=\"limit-select\" ng-if=\"$pagination.limitOptions\">\\n' +\n    '  <div class=\"label\">{{$pagination.label.rowsPerPage}}</div>\\n' +\n    '\\n' +\n    '  <md-select class=\"md-table-select\" ng-model=\"$pagination.limit\" md-container-class=\"md-pagination-select\" ng-disabled=\"$pagination.disabled\" aria-label=\"Rows\" placeholder=\"{{ $pagination.limitOptions[0] }}\">\\n' +\n    '    <md-option ng-repeat=\"option in $pagination.limitOptions\" ng-value=\"option.value ? $pagination.eval(option.value) : option\">{{::option.label ? option.label : option}}</md-option>\\n' +\n    '  </md-select>\\n' +\n    '</div>\\n' +\n    '\\n' +\n    '<div class=\"buttons\">\\n' +\n    '  <div class=\"label\">{{$pagination.min()}} - {{$pagination.max()}} {{$pagination.label.of}} {{$pagination.total}}</div>\\n' +\n    '\\n' +\n    '  <md-button class=\"md-icon-button\" type=\"button\" ng-if=\"$pagination.showBoundaryLinks()\" ng-click=\"$pagination.first()\" ng-disabled=\"$pagination.disabled || !$pagination.hasPrevious()\" aria-label=\"First\">\\n' +\n    '    <md-icon md-svg-icon=\"navigate-first.svg\"></md-icon>\\n' +\n    '  </md-button>\\n' +\n    '\\n' +\n    '  <md-button class=\"md-icon-button\" type=\"button\" ng-click=\"$pagination.previous()\" ng-disabled=\"$pagination.disabled || !$pagination.hasPrevious()\" aria-label=\"Previous\">\\n' +\n    '    <md-icon md-svg-icon=\"navigate-before.svg\"></md-icon>\\n' +\n    '  </md-button>\\n' +\n    '\\n' +\n    '  <md-button class=\"md-icon-button\" type=\"button\" ng-click=\"$pagination.next()\" ng-disabled=\"$pagination.disabled || !$pagination.hasNext()\" aria-label=\"Next\">\\n' +\n    '    <md-icon md-svg-icon=\"navigate-next.svg\"></md-icon>\\n' +\n    '  </md-button>\\n' +\n    '\\n' +\n    '  <md-button class=\"md-icon-button\" type=\"button\" ng-if=\"$pagination.showBoundaryLinks()\" ng-click=\"$pagination.last()\" ng-disabled=\"$pagination.disabled || !$pagination.hasNext()\" aria-label=\"Last\">\\n' +\n    '    <md-icon md-svg-icon=\"navigate-last.svg\"></md-icon>\\n' +\n    '  </md-button>\\n' +\n    '</div>');\n}]);\n\nangular.module('md-table-progress.html', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('md-table-progress.html',\n    '<tr>\\n' +\n    '  <th colspan=\"{{columnCount()}}\">\\n' +\n    '    <md-progress-linear ng-show=\"deferred()\" md-mode=\"indeterminate\"></md-progress-linear>\\n' +\n    '  </th>\\n' +\n    '</tr>');\n}]);\n\nangular.module('arrow-up.svg', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('arrow-up.svg',\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\"/></svg>');\n}]);\n\nangular.module('navigate-before.svg', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('navigate-before.svg',\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"/></svg>');\n}]);\n\nangular.module('navigate-first.svg', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('navigate-first.svg',\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M7 6 v12 h2 v-12 h-2z M17.41 7.41L16 6l-6 6 6 6 1.41-1.41L12.83 12z\"/></svg>');\n}]);\n\nangular.module('navigate-last.svg', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('navigate-last.svg',\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M15 6 v12 h2 v-12 h-2z M8 6L6.59 7.41 11.17 12l-4.58 4.59L8 18l6-6z\"/></svg>');\n}]);\n\nangular.module('navigate-next.svg', []).run(['$templateCache', function ($templateCache) {\n  $templateCache.put('navigate-next.svg',\n    '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"/></svg>');\n}]);\n\n\nangular.module('md.data.table', ['md.table.templates']);\n\nangular.module('md.data.table').directive('mdBody', mdBody);\n\nfunction mdBody() {\n\n  function compile(tElement) {\n    tElement.addClass('md-body');\n  }\n\n  return {\n    compile: compile,\n    restrict: 'A'\n  };\n}\n\nangular.module('md.data.table').directive('mdCell', mdCell);\n\nfunction mdCell() {\n  \n  function compile(tElement) {\n    var select = tElement.find('md-select');\n    \n    if(select.length) {\n      select.addClass('md-table-select').attr('md-container-class', 'md-table-select');\n    }\n    \n    tElement.addClass('md-cell');\n    \n    return postLink;\n  }\n  \n  // empty controller to be bind properties to in postLink function\n  function Controller() {\n    \n  }\n  \n  function postLink(scope, element, attrs, ctrls) {\n    var select = element.find('md-select');\n    var cellCtrl = ctrls.shift();\n    var tableCtrl = ctrls.shift();\n    \n    if(attrs.ngClick) {\n      element.addClass('md-clickable');\n    }\n    \n    if(select.length) {\n      select.on('click', function (event) {\n        event.stopPropagation();\n      });\n      \n      element.addClass('md-clickable').on('click', function (event) {\n        event.stopPropagation();\n        select[0].click();\n      });\n    }\n    \n    cellCtrl.getTable = tableCtrl.getElement;\n    \n    function getColumn() {\n      return tableCtrl.$$columns[getIndex()];\n    }\n    \n    function getIndex() {\n      return Array.prototype.indexOf.call(element.parent().children(), element[0]);\n    }\n    \n    scope.$watch(getColumn, function (column) {\n      if(!column) {\n        return;\n      }\n      \n      if(column.numeric) {\n        element.addClass('md-numeric');\n      } else {\n        element.removeClass('md-numeric');\n      }\n    });\n  }\n  \n  return {\n    controller: Controller,\n    compile: compile,\n    require: ['mdCell', '^^mdTable'],\n    restrict: 'A'\n  };\n}\n\nangular.module('md.data.table').directive('mdColumn', mdColumn);\n\nfunction mdColumn($compile, $mdUtil) {\n\n  function compile(tElement) {\n    tElement.addClass('md-column');\n    return postLink;\n  }\n\n  function postLink(scope, element, attrs, ctrls) {\n    var headCtrl = ctrls.shift();\n    var tableCtrl = ctrls.shift();\n\n    function attachSortIcon() {\n      var sortIcon = angular.element('<md-icon md-svg-icon=\"arrow-up.svg\">');\n\n      $compile(sortIcon.addClass('md-sort-icon').attr('ng-class', 'getDirection()'))(scope);\n\n      if(element.hasClass('md-numeric')) {\n        element.prepend(sortIcon);\n      } else {\n        element.append(sortIcon);\n      }\n    }\n\n    function detachSortIcon() {\n      Array.prototype.some.call(element.find('md-icon'), function (icon) {\n        return icon.classList.contains('md-sort-icon') && element[0].removeChild(icon);\n      });\n    }\n\n    function disableSorting() {\n      detachSortIcon();\n      element.removeClass('md-sort').off('click', setOrder);\n    }\n\n    function enableSorting() {\n      attachSortIcon();\n      element.addClass('md-sort').on('click', setOrder);\n    }\n\n    function getIndex() {\n      return Array.prototype.indexOf.call(element.parent().children(), element[0]);\n    }\n\n    function isActive() {\n      return scope.orderBy && (headCtrl.order === scope.orderBy || headCtrl.order === '-' + scope.orderBy);\n    }\n\n    function isNumeric() {\n      return attrs.mdNumeric === '' || scope.numeric;\n    }\n\n    function setOrder() {\n      scope.$applyAsync(function () {\n        if(isActive()) {\n          headCtrl.order = scope.getDirection() === 'md-asc' ? '-' + scope.orderBy : scope.orderBy;\n        } else {\n          headCtrl.order = scope.getDirection() === 'md-asc' ? scope.orderBy : '-' + scope.orderBy;\n        }\n\n        if(angular.isFunction(headCtrl.onReorder)) {\n          $mdUtil.nextTick(function () {\n            headCtrl.onReorder(headCtrl.order);\n          });\n        }\n      });\n    }\n\n    function updateColumn(index, column) {\n      tableCtrl.$$columns[index] = column;\n\n      if(column.numeric) {\n        element.addClass('md-numeric');\n      } else {\n        element.removeClass('md-numeric');\n      }\n    }\n\n    scope.getDirection = function () {\n      if(isActive()) {\n        return headCtrl.order.charAt(0) === '-' ? 'md-desc' : 'md-asc';\n      }\n\n      return attrs.mdDesc === '' || scope.$eval(attrs.mdDesc) ? 'md-desc' : 'md-asc';\n    };\n\n    scope.$watch(isActive, function (active) {\n      if(active) {\n        element.addClass('md-active');\n      } else {\n        element.removeClass('md-active');\n      }\n    });\n\n    scope.$watch(getIndex, function (index) {\n      updateColumn(index, {'numeric': isNumeric()});\n    });\n\n    scope.$watch(isNumeric, function (numeric) {\n      updateColumn(getIndex(), {'numeric': numeric});\n    });\n\n    scope.$watch('orderBy', function (orderBy) {\n      if(orderBy) {\n        if(!element.hasClass('md-sort')) {\n          enableSorting();\n        }\n      } else if(element.hasClass('md-sort')) {\n        disableSorting();\n      }\n    });\n  }\n\n  return {\n    compile: compile,\n    require: ['^^mdHead', '^^mdTable'],\n    restrict: 'A',\n    scope: {\n      numeric: '=?mdNumeric',\n      orderBy: '@?mdOrderBy'\n    }\n  };\n}\n\nmdColumn.$inject = ['$compile', '$mdUtil'];\n\nangular.module('md.data.table')\n  .decorator('$controller', controllerDecorator)\n  .factory('$mdEditDialog', mdEditDialog);\n\n/*\n * A decorator for ng.$controller to optionally bind properties to the\n * controller before invoking the constructor. Stolen from the ngMock.\n *\n * https://docs.angularjs.org/api/ngMock/service/$controller\n */\nfunction controllerDecorator($delegate) {\n  return function(expression, locals, later, ident) {\n    if(later && typeof later === 'object') {\n      var create = $delegate(expression, locals, true, ident);\n      angular.extend(create.instance, later);\n      return create();\n    }\n    return $delegate(expression, locals, later, ident);\n  };\n}\n\ncontrollerDecorator.$inject = ['$delegate'];\n  \nfunction mdEditDialog($compile, $controller, $document, $mdUtil, $q, $rootScope, $templateCache, $templateRequest, $window) {\n  /* jshint validthis: true */\n  \n  var ESCAPE = 27;\n  \n  var busy = false;\n  var body = angular.element($document.prop('body'));\n  \n  /*\n   * bindToController\n   * controller\n   * controllerAs\n   * locals\n   * resolve\n   * scope\n   * targetEvent\n   * template\n   * templateUrl\n   */\n  var defaultOptions = {\n    clickOutsideToClose: true,\n    disableScroll: true,\n    escToClose: true,\n    focusOnOpen: true\n  };\n  \n  function build(template, options) {\n    var scope = $rootScope.$new();\n    var element = $compile(template)(scope);\n    var backdrop = $mdUtil.createBackdrop(scope, 'md-edit-dialog-backdrop');\n    var controller;\n    \n    if(options.controller) {\n      controller = getController(options, scope, {$element: element, $scope: scope});\n    } else {\n      angular.extend(scope, options.scope);\n    }\n    \n    if(options.disableScroll) {\n      disableScroll(element);\n    }\n    \n    body.prepend(backdrop).append(element.addClass('md-whiteframe-1dp'));\n    \n    positionDialog(element, options.target);\n    \n    if(options.focusOnOpen) {\r\n      focusOnOpen(element);\r\n    }\r\n    \n    if(options.clickOutsideToClose) {\n      backdrop.on('click', function () {\n        element.remove();\n      });\n    }\n    \n    if(options.escToClose) {\n      escToClose(element);\n    }\n    \n    element.on('$destroy', function () {\n      busy = false;\n      backdrop.remove();\n    });\n    \n    return controller;\n  }\n  \n  function disableScroll(element) {\n    var restoreScroll = $mdUtil.disableScrollAround(element, body);\n    \n    element.on('$destroy', function () {\n      restoreScroll();\n    });\n  }\n  \n  function getController(options, scope, inject) {\n    if(!options.controller) {\n      return;\n    }\n    \n    if(options.resolve) {\n      angular.extend(inject, options.resolve);\n    }\n    \n    if(options.locals) {\n      angular.extend(inject, options.locals);\n    }\n    \n    if(options.controllerAs) {\n      scope[options.controllerAs] = {};\n      \n      if(options.bindToController) {\n        angular.extend(scope[options.controllerAs], options.scope);\n      } else {\n        angular.extend(scope, options.scope);\n      }\n    } else {\n      angular.extend(scope, options.scope);\n    }\n    \n    if(options.bindToController) {\n      return $controller(options.controller, inject, scope[options.controllerAs]);\n    } else {\n      return $controller(options.controller, inject);\n    }\n  }\n  \n  function getTemplate(options) {\n    return $q(function (resolve, reject) {\n      var template = options.template;\n      \n      function illegalType(type) {\n        reject('Unexpected template value. Expected a string; received a ' + type + '.');\n      }\n      \n      if(template) {\n        return angular.isString(template) ? resolve(template) : illegalType(typeof template);\n      }\n      \n      if(options.templateUrl) {\n        template = $templateCache.get(options.templateUrl);\n        \n        if(template) {\n          return resolve(template);\n        }\n        \n        var success = function (template) {\n          return resolve(template);\n        };\n        \n        var error = function () {\n          return reject('Error retrieving template from URL.');\n        };\n        \n        return $templateRequest(options.templateUrl).then(success, error);\n      }\n      \n      reject('Template not provided.');\n    });\n  }\n  \n  function logError(error) {\n    busy = false;\n    console.error(error);\n  }\n  \n  function escToClose(element) {\n    var keyup = function (event) {\n      if(event.keyCode === ESCAPE) {\n        element.remove();\n      }\n    };\n    \n    body.on('keyup', keyup);\n    \n    element.on('$destroy', function () {\n      body.off('keyup', keyup);\n    });\n  }\n\n  function focusOnOpen(element) {\r\n    $mdUtil.nextTick(function () {\r\n      var autofocus = $mdUtil.findFocusTarget(element);\n      \n      if(autofocus) {\r\n        autofocus.focus();\r\n      }\r\n    }, false);\r\n  }\n\n  function positionDialog(element, target) {\n    var table = angular.element(target).controller('mdCell').getTable();\n    \n    var getHeight = function () {\n      return element.prop('clientHeight');\n    };\n    \n    var getSize = function () {\n      return {\n        width: getWidth(),\n        height: getHeight()\n      };\n    };\n    \n    var getTableBounds = function () {\n      var parent = table.parent();\n      \n      if(parent.prop('tagName') === 'MD-TABLE-CONTAINER') {\n        return parent[0].getBoundingClientRect();\n      } else {\n        return table[0].getBoundingClientRect();\n      }\n    };\n    \n    var getWidth = function () {\n      return element.prop('clientWidth');\n    };\n    \n    var reposition = function () {\n      var size = getSize();\n      var cellBounds = target.getBoundingClientRect();\n      var tableBounds = getTableBounds();\n      \n      if(size.width > tableBounds.right - cellBounds.left) {\n        element.css('left', tableBounds.right - size.width + 'px');\n      } else {\n        element.css('left', cellBounds.left + 'px');\n      }\n      \n      if(size.height > tableBounds.bottom - cellBounds.top) {\n        element.css('top', tableBounds.bottom - size.height + 'px');\n      } else {\n        element.css('top', cellBounds.top + 1 + 'px');\n      }\n      \n      element.css('minWidth', cellBounds.width + 'px');\n    };\n    \n    var watchWidth = $rootScope.$watch(getWidth, reposition);\n    var watchHeight = $rootScope.$watch(getHeight, reposition);\n    \n    $window.addEventListener('resize', reposition);\n    \n    element.on('$destroy', function () {\n      watchWidth();\n      watchHeight();\n      \n      $window.removeEventListener('resize', reposition);\n    });\n  }\n  \n  function preset(size, options) {\n    \n    function getAttrs() {\n      var attrs = 'type=\"' + (options.type || 'text') + '\"';\n      \n      for(var attr in options.validators) {\n        attrs += ' ' + attr + '=\"' + options.validators[attr] + '\"';\n      }\n      \n      return attrs;\n    }\n    \n    return {\n      controller: ['$element', '$q', 'save', '$scope', function ($element, $q, save, $scope) {\n        function update() {\n          if($scope.editDialog.$invalid) {\n            return $q.reject();\n          }\n          \n          if(angular.isFunction(save)) {\n            return $q.when(save($scope.editDialog.input));\n          }\n          \n          return $q.resolve();\n        }\n        \n        this.dismiss = function () {\n          $element.remove();\n        };\n        \n        this.getInput = function () {\n          return $scope.editDialog.input;\n        };\n        \n        $scope.dismiss = this.dismiss;\n        \n        $scope.submit = function () {\n          update().then(function () {\n            $scope.dismiss();\n          });\n        };\n      }],\n      locals: {\n        save: options.save\n      },\n      scope: {\n        cancel: options.cancel || 'Cancel',\n        messages: options.messages,\n        model: options.modelValue,\n        ok: options.ok || 'Save',\n        placeholder: options.placeholder,\n        title: options.title,\n        size: size\n      },\n      template:\n        '<md-edit-dialog>' +\n          '<div layout=\"column\" class=\"md-content\">' +\n            '<div ng-if=\"size === \\'large\\'\" class=\"md-title\">{{title || \\'Edit\\'}}</div>' +\n            '<form name=\"editDialog\" layout=\"column\" ng-submit=\"submit(model)\">' +\n              '<md-input-container md-no-float>' +\n                '<input name=\"input\" ng-model=\"model\" md-autofocus placeholder=\"{{placeholder}} \"' + getAttrs() + '>' +\n                '<div ng-messages=\"editDialog.input.$error\">' +\n                  '<div ng-repeat=\"(key, message) in messages\" ng-message=\"{{key}}\">{{message}}</div>' +\n                '</div>' +\n              '</md-input-container>' +\n            '</form>' +\n          '</div>' +\n          '<div ng-if=\"size === \\'large\\'\" layout=\"row\" layout-align=\"end\" class=\"md-actions\">' +\n            '<md-button class=\"md-primary\" ng-click=\"dismiss()\">{{cancel}}</md-button>' +\n            '<md-button class=\"md-primary\" ng-click=\"submit()\">{{ok}}</md-button>' +\n          '</div>' +\n        '</md-edit-dialog>'\n    };\n  }\n  \n  this.show = function (options) {\n    if(busy) {\n      return $q.reject();\n    }\n    \n    busy = true;\n    options = angular.extend({}, defaultOptions, options);\n    \n    if(!options.targetEvent) {\n      return logError('options.targetEvent is required to align the dialog with the table cell.');\n    }\n    \n    if(!options.targetEvent.currentTarget.classList.contains('md-cell')) {\n      return logError('The event target must be a table cell.');\n    }\n    \n    if(options.bindToController && !options.controllerAs) {\n      return logError('You must define options.controllerAs when options.bindToController is true.');\n    }\n    \n    options.target = options.targetEvent.currentTarget;\n    \n    var promise = getTemplate(options);\n    var promises = [promise];\n    \n    for(var prop in options.resolve) {\n      promise = options.resolve[prop];\n      promises.push($q.when(angular.isFunction(promise) ? promise() : promise));\n    }\n    \n    promise = $q.all(promises);\n    \n    promise['catch'](logError);\n    \n    return promise.then(function (results) {\n      var template = results.shift();\n      \n      for(var prop in options.resolve) {\n        options.resolve[prop] = results.shift();\n      }\n      \n      return build(template, options);\n    });\n  };\n  \n  this.small = function (options) {\n    return this.show(angular.extend({}, options, preset('small', options)));\n  }.bind(this);\n  \n  this.large = function (options) {\n    return this.show(angular.extend({}, options, preset('large', options)));\n  }.bind(this);\n  \n  return this;\n}\n\nmdEditDialog.$inject = ['$compile', '$controller', '$document', '$mdUtil', '$q', '$rootScope', '$templateCache', '$templateRequest', '$window'];\n\n\nangular.module('md.data.table').directive('mdFoot', mdFoot);\n\nfunction mdFoot() {\n\n  function compile(tElement) {\n    tElement.addClass('md-foot');\n  }\n\n  return {\n    compile: compile,\n    restrict: 'A'\n  };\n}\n\nangular.module('md.data.table').directive('mdHead', mdHead);\n\nfunction mdHead($compile) {\n\n  function compile(tElement) {\n    tElement.addClass('md-head');\n    return postLink;\n  }\n  \n  // empty controller to be bind scope properties to\n  function Controller() {\n    \n  }\n  \n  function postLink(scope, element, attrs, tableCtrl) {\n    // because scope.$watch is unpredictable\n    var oldValue = new Array(2);\n    \n    function addCheckboxColumn() {\n      element.children().prepend('<th class=\"md-column md-checkbox-column\">');\n    }\n    \n    function attatchCheckbox() {\n      element.prop('lastElementChild').firstElementChild.appendChild($compile(createCheckBox())(scope)[0]);\n    }\n    \n    function createCheckBox() {\n      return angular.element('<md-checkbox>').attr({\n        'aria-label': 'Select All',\n        'ng-click': 'toggleAll()',\n        'ng-checked': 'allSelected()',\n        'ng-disabled': '!getSelectableRows().length'\n      });\n    }\n    \n    function detachCheckbox() {\n      var cell = element.prop('lastElementChild').firstElementChild;\n      \n      if(cell.classList.contains('md-checkbox-column')) {\n        angular.element(cell).empty();\n      }\n    }\n    \n    function enableRowSelection() {\n      return tableCtrl.$$rowSelect;\n    }\n    \n    function mdSelectCtrl(row) {\n      return angular.element(row).controller('mdSelect');\n    }\n    \n    function removeCheckboxColumn() {\n      Array.prototype.some.call(element.find('th'), function (cell) {\n        return cell.classList.contains('md-checkbox-column') && cell.remove();\n      });\n    }\n    \n    scope.allSelected = function () {\n      var rows = scope.getSelectableRows();\n      \n      return rows.length && rows.every(function (row) {\n        return row.isSelected();\n      });\n    };\n    \n    scope.getSelectableRows = function () {\n      return tableCtrl.getBodyRows().map(mdSelectCtrl).filter(function (ctrl) {\n        return ctrl && !ctrl.disabled;\n      });\n    };\n    \n    scope.selectAll = function () {\n      tableCtrl.getBodyRows().map(mdSelectCtrl).forEach(function (ctrl) {\n        if(ctrl && !ctrl.isSelected()) {\n          ctrl.select();\n        }\n      });\n    };\n    \n    scope.toggleAll = function () {\n      return scope.allSelected() ? scope.unSelectAll() : scope.selectAll();\n    };\n    \n    scope.unSelectAll = function () {\n      tableCtrl.getBodyRows().map(mdSelectCtrl).forEach(function (ctrl) {\n        if(ctrl && ctrl.isSelected()) {\n          ctrl.deselect();\n        }\n      });\n    };\n    \n    scope.$watchGroup([enableRowSelection, tableCtrl.enableMultiSelect], function (newValue) {\n      if(newValue[0] !== oldValue[0]) {\n        if(newValue[0]) {\n          addCheckboxColumn();\n          \n          if(newValue[1]) {\n            attatchCheckbox();\n          }\n        } else {\n          removeCheckboxColumn();\n        }\n      } else if(newValue[0] && newValue[1] !== oldValue[1]) {\n        if(newValue[1]) {\n          attatchCheckbox();\n        } else {\n          detachCheckbox();\n        }\n      }\n      \n      angular.copy(newValue, oldValue);\n    });\n  }\n  \n  return {\n    bindToController: true,\n    compile: compile,\n    controller: Controller,\n    controllerAs: '$mdHead',\n    require: '^^mdTable',\n    restrict: 'A',\n    scope: {\n      order: '=?mdOrder',\n      onReorder: '=?mdOnReorder'\n    }\n  };\n}\n\nmdHead.$inject = ['$compile'];\n\nangular.module('md.data.table').directive('mdRow', mdRow);\n\nfunction mdRow() {\n\n  function compile(tElement) {\n    tElement.addClass('md-row');\n    return postLink;\n  }\n  \n  function postLink(scope, element, attrs, tableCtrl) {\n    function enableRowSelection() {\n      return tableCtrl.$$rowSelect;\n    }\n    \n    function isBodyRow() {\n      return tableCtrl.getBodyRows().indexOf(element[0]) !== -1;\n    }\n    \n    function isChild(node) {\n      return element[0].contains(node[0]);\n    }\n    \n    if(isBodyRow()) {\n      var cell = angular.element('<td class=\"md-cell\">');\n      \n      scope.$watch(enableRowSelection, function (enable) {\n        // if a row is not selectable, prepend an empty cell to it\n        if(enable && !attrs.mdSelect) {\n          if(!isChild(cell)) {\n            element.prepend(cell);\n          }\n          return;\n        }\n        \n        if(isChild(cell)) {\n          cell.remove();\n        }\n      });\n    }\n  }\n\n  return {\n    compile: compile,\n    require: '^^mdTable',\n    restrict: 'A'\n  };\n}\n\nangular.module('md.data.table').directive('mdSelect', mdSelect);\n\nfunction mdSelect($compile, $parse) {\n\n  // empty controller to bind scope properties to\n  function Controller() {\n\n  }\n\n  function postLink(scope, element, attrs, ctrls) {\n    var self = ctrls.shift();\n    var tableCtrl = ctrls.shift();\n    var getId = $parse(attrs.mdSelectId);\n\n    self.id = getId(self.model);\n\n    if(tableCtrl.$$rowSelect && self.id) {\n      if(tableCtrl.$$hash.has(self.id)) {\n        \n        var index = tableCtrl.selected.findIndex(m => getId(m) === self.id)\n        // if the item is no longer selected remove it\n        if(index === -1) {\n          tableCtrl.$$hash.purge(self.id);\n        }\n\n        // if the item is not a reference to the current model update the reference\n        else if(!tableCtrl.$$hash.equals(self.id, self.model)) {\n          tableCtrl.$$hash.update(self.id, self.model);\n          tableCtrl.selected.splice(index, 1, self.model);\n        }\n\n      } else {\n\n        // check if the item has been selected\n        tableCtrl.selected.some(function (item, index) {\n          if(getId(item) === self.id) {\n            tableCtrl.$$hash.update(self.id, self.model);\n            tableCtrl.selected.splice(index, 1, self.model);\n\n            return true;\n          }\n        });\n      }\n    }\n\n    self.isSelected = function () {\n      if(!tableCtrl.$$rowSelect) {\n        return false;\n      }\n\n      if(self.id) {\n        return tableCtrl.$$hash.has(self.id);\n      }\n\n      return tableCtrl.selected.indexOf(self.model) !== -1;\n    };\n\n    self.select = function () {\n      if(self.disabled) {\n        return;\n      }\n\n      if(tableCtrl.enableMultiSelect()) {\n        tableCtrl.selected.push(self.model);\n      } else {\n        tableCtrl.selected.splice(0, tableCtrl.selected.length, self.model);\n      }\n\n      if(angular.isFunction(self.onSelect)) {\n        self.onSelect(self.model);\n      }\n    };\n\n    self.deselect = function () {\n      if(self.disabled) {\n        return;\n      }\n\n      const i = self.id\n        ? tableCtrl.selected.findIndex(m => getId(m) === self.id)\n        : tableCtrl.selected.indexOf(self.model);\n\n      tableCtrl.selected.splice(i, 1);\n\n      if(angular.isFunction(self.onDeselect)) {\n        self.onDeselect(self.model);\n      }\n    };\n\n    self.toggle = function (event) {\n      if(event && event.stopPropagation) {\n        event.stopPropagation();\n      }\n\n      return self.isSelected() ? self.deselect() : self.select();\n    };\n\n    function autoSelect() {\n      return attrs.mdAutoSelect === '' || self.autoSelect;\n    }\n\n    function createCheckbox() {\n      var checkbox = angular.element('<md-checkbox>').attr({\n        'aria-label': 'Select Row',\n        'ng-click': '$mdSelect.toggle($event)',\n        'ng-checked': '$mdSelect.isSelected()',\n        'ng-disabled': '$mdSelect.disabled'\n      });\n\n      return angular.element('<td class=\"md-cell md-checkbox-cell\">').append($compile(checkbox)(scope));\n    }\n\n    function disableSelection() {\n      Array.prototype.some.call(element.children(), function (child) {\n        return child.classList.contains('md-checkbox-cell') && element[0].removeChild(child);\n      });\n\n      if(autoSelect()) {\n        element.off('click', toggle);\n      }\n    }\n\n    function enableSelection() {\n      element.prepend(createCheckbox());\n\n      if(autoSelect()) {\n        element.on('click', toggle);\n      }\n    }\n\n    function enableRowSelection() {\n      return tableCtrl.$$rowSelect;\n    }\n\n    function onSelectChange(selected) {\n      if(!self.id) {\n        return;\n      }\n\n      if(tableCtrl.$$hash.has(self.id)) {\n        // check if the item has been deselected\n        if(!selected.find(m => getId(m) === self.id)) {\n          tableCtrl.$$hash.purge(self.id);\n        }\n\n        return;\n      }\n\n      // check if the item has been selected\n      if (selected.find(m => getId(m) === self.id)) {\n        tableCtrl.$$hash.update(self.id, self.model);\n      }\n    }\n\n    function toggle(event) {\n      scope.$applyAsync(function () {\n        self.toggle(event);\n      });\n    }\n\n    scope.$watch(enableRowSelection, function (enable) {\n      if(enable) {\n        enableSelection();\n      } else {\n        disableSelection();\n      }\n    });\n\n    scope.$watch(autoSelect, function (newValue, oldValue) {\n      if(newValue === oldValue) {\n        return;\n      }\n\n      if(tableCtrl.$$rowSelect && newValue) {\n        element.on('click', toggle);\n      } else {\n        element.off('click', toggle);\n      }\n    });\n\n    scope.$watch(self.isSelected, function (isSelected) {\n      return isSelected ? element.addClass('md-selected') : element.removeClass('md-selected');\n    });\n\n    scope.$watch(tableCtrl.enableMultiSelect, function (multiple) {\n      if(tableCtrl.$$rowSelect && !multiple) {\n        // remove all but the first selected item\n        tableCtrl.selected.splice(1);\n      }\n    });\n\n    tableCtrl.registerModelChangeListener(onSelectChange);\n\n    element.on('$destroy', function () {\n      tableCtrl.removeModelChangeListener(onSelectChange);\n    });\n  }\n\n  return {\n    bindToController: true,\n    controller: Controller,\n    controllerAs: '$mdSelect',\n    link: postLink,\n    require: ['mdSelect', '^^mdTable'],\n    restrict: 'A',\n    scope: {\n      model: '=mdSelect',\n      disabled: '=ngDisabled',\n      onSelect: '=?mdOnSelect',\n      onDeselect: '=?mdOnDeselect',\n      autoSelect: '=mdAutoSelect'\n    }\n  };\n}\n\nmdSelect.$inject = ['$compile', '$parse'];\n\nangular.module('md.data.table').directive('mdTable', mdTable);\n\nfunction Hash() {\n  var keys = {};\n  \n  this.equals = function (key, item) {\n    return keys[key] === item;\n  };\n\n  this.get = function (key) {\n    return keys[key];\n  };\n  \n  this.has = function (key) {\n    return keys.hasOwnProperty(key);\n  };\n\n  this.purge = function (key) {\n    delete keys[key];\n  };\n  \n  this.update = function (key, item) {\n    keys[key] = item;\n  };\n}\n\nfunction mdTable() {\n  \n  function compile(tElement, tAttrs) {\n    tElement.addClass('md-table');\n    \n    if(tAttrs.hasOwnProperty('mdProgress')) {\n      var body = tElement.find('tbody')[0];\n      var progress = angular.element('<thead class=\"md-table-progress\" md-table-progress>');\n      \n      if(body) {\n        tElement[0].insertBefore(progress[0], body);\n      }\n    }\n  }\n  \n  function Controller($attrs, $element, $q, $scope) {\n    var self = this;\n    var queue = [];\n    var watchListener;\n    var modelChangeListeners = [];\n    \n    self.$$hash = new Hash();\n    self.$$columns = {};\n    \n    function enableRowSelection() {\n      self.$$rowSelect = true;\n      \n      watchListener = $scope.$watchCollection('$mdTable.selected', function (selected) {\n        modelChangeListeners.forEach(function (listener) {\n          listener(selected);\n        });\n      });\n      \n      $element.addClass('md-row-select');\n    }\n    \n    function disableRowSelection() {\n      self.$$rowSelect = false;\n      \n      if(angular.isFunction(watchListener)) {\n        watchListener();\n      }\n      \n      $element.removeClass('md-row-select');\n    }\n    \n    function resolvePromises() {\n      if(!queue.length) {\n        return $scope.$applyAsync();\n      }\n      \n      queue[0]['finally'](function () {\n        queue.shift();\n        resolvePromises();\n      });\n    }\n    \n    function rowSelect() {\n      return $attrs.mdRowSelect === '' || self.rowSelect;\n    }\n    \n    function validateModel() {\n      if(!self.selected) {\n        return console.error('Row selection: ngModel is not defined.');\n      }\n      \n      if(!angular.isArray(self.selected)) {\n        return console.error('Row selection: Expected an array. Recived ' + typeof self.selected + '.');\n      }\n      \n      return true;\n    }\n    \n    self.columnCount = function () {\n      return self.getRows($element[0]).reduce(function (count, row) {\n        return row.cells.length > count ? row.cells.length : count;\n      }, 0);\n    };\n    \n    self.getRows = function (element) {\n      return Array.prototype.filter.call(element.rows, function (row) {\n        return !row.classList.contains('ng-leave');\n      });\n    };\n    \n    self.getBodyRows = function () {\n      return Array.prototype.reduce.call($element.prop('tBodies'), function (result, tbody) {\n        return result.concat(self.getRows(tbody));\n      }, []);\n    };\n    \n    self.getElement = function () {\n      return $element;\n    };\n    \n    self.getHeaderRows = function () {\n      return self.getRows($element.prop('tHead'));\n    };\n    \n    self.enableMultiSelect = function () {\n      return $attrs.multiple === '' || $scope.$eval($attrs.multiple);\n    };\n    \n    self.waitingOnPromise = function () {\n      return !!queue.length;\n    };\n    \n    self.queuePromise = function (promise) {\n      if(!promise) {\n        return;\n      }\n      \n      if(queue.push(angular.isArray(promise) ? $q.all(promise) : $q.when(promise)) === 1) {\n        resolvePromises();\n      }\n    };\n    \n    self.registerModelChangeListener = function (listener) {\n      modelChangeListeners.push(listener);\n    };\n    \n    self.removeModelChangeListener = function (listener) {\n      var index = modelChangeListeners.indexOf(listener);\n      \n      if(index !== -1) {\n        modelChangeListeners.splice(index, 1);\n      }\n    };\n    \n    if($attrs.hasOwnProperty('mdProgress')) {\n      $scope.$watch('$mdTable.progress', self.queuePromise);\n    }\n    \n    $scope.$watch(rowSelect, function (enable) {\n      if(enable && !!validateModel()) {\n        enableRowSelection();\n      } else {\n        disableRowSelection();\n      }\n    });\n  }\n  \n  Controller.$inject = ['$attrs', '$element', '$q', '$scope'];\n  \n  return {\n    bindToController: true,\n    compile: compile,\n    controller: Controller,\n    controllerAs: '$mdTable',\n    restrict: 'A',\n    scope: {\n      progress: '=?mdProgress',\n      selected: '=ngModel',\n      rowSelect: '=mdRowSelect'\n    }\n  };\n}\n\nangular.module('md.data.table').directive('mdTablePagination', mdTablePagination);\n\nfunction mdTablePagination() {\n\n  function compile(tElement) {\n    tElement.addClass('md-table-pagination');\n  }\n\n  function Controller($attrs, $mdUtil, $scope) {\n    var self = this;\n    var defaultLabel = {\n      page: 'Page:',\n      rowsPerPage: 'Rows per page:',\n      of: 'of'\n    };\n\n    self.label = angular.copy(defaultLabel);\n\n    function isPositive(number) {\n      return parseInt(number, 10) > 0;\n    }\n\n    self.eval = function (expression) {\n      return $scope.$eval(expression);\n    };\n\n    self.first = function () {\n      self.page = 1;\n      self.onPaginationChange();\n    };\n\n    self.hasNext = function () {\n      return self.page * self.limit < self.total;\n    };\n\n    self.hasPrevious = function () {\n      return self.page > 1;\n    };\n\n    self.last = function () {\n      self.page = self.pages();\n      self.onPaginationChange();\n    };\n\n    self.max = function () {\n      return self.hasNext() ? self.page * self.limit : self.total;\n    };\n\n    self.min = function () {\n      return isPositive(self.total) ? self.page * self.limit - self.limit + 1 : 0;\n    };\n\n    self.next = function () {\n      self.page++;\n      self.onPaginationChange();\n    };\n\n    self.onPaginationChange = function () {\n      if(angular.isFunction(self.onPaginate)) {\n        $mdUtil.nextTick(function () {\n          self.onPaginate(self.page, self.limit);\n        });\n      }\n    };\n\n    self.pages = function () {\n      return isPositive(self.total) ? Math.ceil(self.total / (isPositive(self.limit) ? self.limit : 1)) : 1;\n    };\n\n    self.previous = function () {\n      self.page--;\n      self.onPaginationChange();\n    };\n\n    self.showBoundaryLinks = function () {\n      return $attrs.mdBoundaryLinks === '' || self.boundaryLinks;\n    };\n\n    self.showPageSelect = function () {\n      return $attrs.mdPageSelect === '' || self.pageSelect;\n    };\n\n    $scope.$watch('$pagination.limit', function (newValue, oldValue) {\n      if(isNaN(newValue) || isNaN(oldValue) || newValue === oldValue) {\n        return;\n      }\n\n      // find closest page from previous min\n      self.page = Math.floor(((self.page * oldValue - oldValue) + newValue) / (isPositive(newValue) ? newValue : 1));\n      self.onPaginationChange();\n    });\n\n    $attrs.$observe('mdLabel', function (label) {\n      angular.extend(self.label, defaultLabel, $scope.$eval(label));\n    });\n\n    $scope.$watch('$pagination.total', function (newValue, oldValue) {\n      if(isNaN(newValue) || newValue === oldValue) {\n        return;\n      }\n\n      if(self.page > self.pages()) {\n        self.last();\n      }\n    });\n  }\n\n  Controller.$inject = ['$attrs', '$mdUtil', '$scope'];\n\n  return {\n    bindToController: {\n      boundaryLinks: '=?mdBoundaryLinks',\n      disabled: '=ngDisabled',\n      limit: '=mdLimit',\n      page: '=mdPage',\n      pageSelect: '=?mdPageSelect',\n      onPaginate: '=?mdOnPaginate',\n      limitOptions: '=?mdLimitOptions',\n      total: '@mdTotal'\n    },\n    compile: compile,\n    controller: Controller,\n    controllerAs: '$pagination',\n    restrict: 'E',\n    scope: {},\n    templateUrl: 'md-table-pagination.html'\n  };\n}\n\nangular.module('md.data.table').directive('mdTableProgress', mdTableProgress);\n\nfunction mdTableProgress() {\n\n  function postLink(scope, element, attrs, tableCtrl) {\n    scope.columnCount = tableCtrl.columnCount;\n    scope.deferred = tableCtrl.waitingOnPromise;\n  }\n\n  return {\n    link: postLink,\n    require: '^^mdTable',\n    restrict: 'A',\n    scope: {},\n    templateUrl: 'md-table-progress.html'\n  };\n}\n\nangular.module('md.data.table').directive('virtualPageSelect', virtualPageSelect);\n\nfunction virtualPageSelect() {\n\n  function Controller($element, $scope) {\n    var self = this;\n    var content = $element.find('md-content');\n\n    self.pages = [];\n\n    function getMin(pages, total) {\n      return Math.min(pages, isFinite(total) && isPositive(total) ? total : 1);\n    }\n\n    function isPositive(number) {\n      return number > 0;\n    }\n\n    function setPages(max) {\n      if(self.pages.length > max) {\n        return self.pages.splice(max);\n      }\n\n      for(var i = self.pages.length; i < max; i++) {\n        self.pages.push(i + 1);\n      }\n    }\n\n    content.on('scroll', function () {\n      if((content.prop('clientHeight') + content.prop('scrollTop')) >= content.prop('scrollHeight')) {\n        $scope.$applyAsync(function () {\n          setPages(getMin(self.pages.length + 10, self.total));\n        });\n      }\n    });\n\n    $scope.$watch('$pageSelect.total', function (total) {\n      setPages(getMin(Math.max(self.pages.length, 10), total));\n    });\n\n    $scope.$watch('$pagination.page', function (page) {\n      for(var i = self.pages.length; i < page; i++) {\n        self.pages.push(i + 1);\n      }\n    });\n  }\n\n  Controller.$inject = ['$element', '$scope'];\n\n  return {\n    bindToController: {\n      total: '@'\n    },\n    controller: Controller,\n    controllerAs: '$pageSelect'\n  };\n}\n\n})(window, angular);"],"file":"md-data-table.js"}